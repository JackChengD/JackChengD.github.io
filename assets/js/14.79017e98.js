(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{369:function(t,n,s){"use strict";s.r(n);var e=s(45),i=Object(e.a)({},(function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景")]),t._v(" "),s("p",[t._v("最近把个人网站和博客都搭建的差不多，也成功放到nginx服务器，接下来要折腾的就是想弄个自动化部署jenkins，这个操作还是有点点累的，查阅了部分文章，终于成功了。这篇文章，我感觉别人写的比我好，这里我就引入别人(大佬)的文章最为参考吧")]),t._v(" "),s("h2",{attrs:{id:"环境搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境搭建"}},[t._v("#")]),t._v(" 环境搭建")]),t._v(" "),s("h3",{attrs:{id:"git搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git搭建"}},[t._v("#")]),t._v(" git搭建")]),t._v(" "),s("blockquote",[s("p",[t._v("git的搭建可以参考下面这边文章，并且他也做了后面jenkins可能引入git报错的处理"),s("br"),t._v("\ngit安装完后，记得将公钥绑定到自己的github上"),s("br"),t._v(" "),s("strong",[t._v("git安装文章")]),t._v("：https://blog.csdn.net/legend818/article/details/104148913"),s("br"),t._v(" "),s("strong",[t._v("查看公钥文章")]),t._v("：https://blog.csdn.net/suwyer/article/details/86066929")])]),t._v(" "),s("h3",{attrs:{id:"centos安装jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#centos安装jenkins"}},[t._v("#")]),t._v(" centOS安装jenkins")]),t._v(" "),s("blockquote",[s("p",[t._v("可以参考下面这边文章，只是安装的时候有点慢，我当时都等了半天，成功进入后还需要安装插件"),s("br"),t._v(" "),s("strong",[t._v("jenkins安装地址")]),t._v("：https://www.cnblogs.com/loveyouyou616/p/8714544.html"),s("br"),t._v(" "),s("strong",[t._v("插件安装文章")]),t._v("：https://blog.csdn.net/ziwuzhulin/article/details/79820020")])]),t._v(" "),s("h2",{attrs:{id:"部署vue项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署vue项目"}},[t._v("#")]),t._v(" 部署vue项目")]),t._v(" "),s("blockquote",[s("p",[t._v("部署vue简单讲其实就是npm install、npm build的过程，参考下面这边文章，文章看到构建那里就差不多了，下面可以不需要"),s("br"),t._v("\n需要注意的是 "),s("code",[t._v("cd /var/jenkins_home/workspace/test #进入test项目目录")]),t._v("，这里的/var/jenkins_home/workspace/test是jenkins的工作区目录，也就是在jenkins将代码拉到这，如果你使用nginx反代，那么目录需要改成这个，或者你可以在构建的时候把dist文件拷贝到另外一个文件(nginx反代这文件)。这样避免build的时候把dist文件删除了，导致线上出现404"),s("br"),t._v("\n还有一点构建时的源码管理Credentials的用户、密码可以是你登录jenkins的账号密码"),s("br"),t._v(" "),s("strong",[t._v("部署vue文章")]),t._v("：https://blog.csdn.net/ansu2009/article/details/83584796")])]),t._v(" "),s("h2",{attrs:{id:"个人建议"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#个人建议"}},[t._v("#")]),t._v(" 个人建议")]),t._v(" "),s("blockquote",[s("p",[t._v("vue部署的shell命令，可以采用下面这个"),s("br"),t._v("\n注意："),s("br"),t._v("\n1.使用cnpm install来安装依赖可以避免一些问题，比如sass"),s("br"),t._v("\n2.可以给jenkins开权限"),s("br"),t._v(" "),s("strong",[t._v("开权限参考")]),t._v("：https://blog.csdn.net/liuxiaoming1109/article/details/89099317")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("echo '============check ENV================' \nwhoami\nwhich npm\n#npm install -g cnpm --registry=https://registry.npm.taobao.org\nnode -v\nnpm -v\ncnpm -v\n\necho '============================begin build======================================='\nrm -rf $WORKSPACE/dist/\nmkdir -p $WORKSPACE/dist/\ncd $WORKSPACE\n#执行命令安装\ncnpm install\nnpm run build\necho '============================end build======================================='\necho '============================start copy======================================='\n\n\\cp -rf $WORKSPACE/dist/ b\n#b为你个人的项目目录\necho '============================end copy======================================='\n")])])]),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),s("blockquote",[s("p",[t._v("jenkins部署vue还是繁琐一点的，步骤如下")])]),t._v(" "),s("ol",[s("li",[t._v("先安装git环境，将git绑定到线上github")]),t._v(" "),s("li",[t._v("服务器安装jenkins环境，浏览器安装jenkins插件解决问题")]),t._v(" "),s("li",[t._v("将git绑定到jenkins上")]),t._v(" "),s("li",[t._v("初始化jenkins项目")]),t._v(" "),s("li",[t._v("构建，看控制台输出是否成功")])]),t._v(" "),s("blockquote",[s("p",[t._v("jenkins部署vue大致过程如上，如有问题还可以继续百度"),s("br"),t._v("\n以上过程应该可以避免90%以上的问题，哈哈哈哈哈哈~")])])])}),[],!1,null,null,null);n.default=i.exports}}]);